<?xml version="1.0"?>
<root>

	<vkchangeinputsourcedef>
		<name>KeyCode::VK_CHANGE_INPUTSOURCE_TO_ENGLISH</name>
		<inputsourceid_equal>com.apple.keylayout.ABC</inputsourceid_equal>
	</vkchangeinputsourcedef>

	<item>
		<name>John Grib customized (이종립 개인 설정)</name>
		<!-- F18 VI 섹션 -->
		<item>
			<identifier>johngrib.f18_vi_keymap</identifier>
			<name>F18 키와 함께 조합하면 VI 처럼 작동</name>
			<autogen>
				__KeyOverlaidModifier__
				KeyCode::F18,
				KeyCode::VK_MODIFIER_EXTRA1,
				KeyCode::F18,
			</autogen>
			<autogen>
				__KeyOverlaidModifier__
				KeyCode::COMMAND_R,
				KeyCode::VK_MODIFIER_EXTRA1,
				KeyCode::F18,
			</autogen>
			<appendix>F18 + hjkl</appendix>
			<appendix>F18 + b, e, w, 0, 4($), 6(^)</appendix>
			<appendix>F18 + g, G</appendix>
			<appendix>F18 + x, X</appendix>
			<appendix>F18 + command + f</appendix>
			<appendix>F18 + command + b</appendix>
			<block>
				<modifier_only>ModifierFlag::EXTRA1</modifier_only>
				<!-- command 키 조합 -->
				<autogen>
					__KeyToKey__
					KeyCode::F,
					ModifierFlag::COMMAND_L,

					KeyCode::PAGEDOWN,
					ModifierFlag::OPTION_L,

					Option::KEYTOKEY_INCREASE_MODIFIER_FLAGS,
					ModifierFlag::EXTRA1,
				</autogen>
				<autogen>
					__KeyToKey__
					KeyCode::B,
					ModifierFlag::COMMAND_L,

					KeyCode::PAGEUP,
					ModifierFlag::OPTION_L,

					Option::KEYTOKEY_INCREASE_MODIFIER_FLAGS,
					ModifierFlag::EXTRA1,
				</autogen>
				<!-- 단일 입력 -->
				<autogen>
					__KeyToKey__
					KeyCode::H,
					KeyCode::CURSOR_LEFT,

					Option::KEYTOKEY_INCREASE_MODIFIER_FLAGS,
					ModifierFlag::EXTRA1,
				</autogen>
				<autogen>
					__KeyToKey__
					KeyCode::J,
					KeyCode::CURSOR_DOWN,

					Option::KEYTOKEY_INCREASE_MODIFIER_FLAGS,
					ModifierFlag::EXTRA1,
				</autogen>
				<autogen>
					__KeyToKey__
					KeyCode::K,
					KeyCode::CURSOR_UP,

					Option::KEYTOKEY_INCREASE_MODIFIER_FLAGS,
					ModifierFlag::EXTRA1,
				</autogen>
				<autogen>
					__KeyToKey__
					KeyCode::L,
					KeyCode::CURSOR_RIGHT,

					Option::KEYTOKEY_INCREASE_MODIFIER_FLAGS,
					ModifierFlag::EXTRA1,
				</autogen>
				<autogen>
					__KeyToKey__
					KeyCode::B,
					KeyCode::CURSOR_LEFT,
					ModifierFlag::OPTION_L,

					Option::KEYTOKEY_INCREASE_MODIFIER_FLAGS,
					ModifierFlag::EXTRA1,
				</autogen>
				<autogen>
					__KeyToKey__
					KeyCode::E,
					KeyCode::CURSOR_RIGHT,
					ModifierFlag::OPTION_L,

					Option::KEYTOKEY_INCREASE_MODIFIER_FLAGS,
					ModifierFlag::EXTRA1,
				</autogen>
				<autogen>
					__KeyToKey__
					KeyCode::W,

					@begin
					KeyCode::CURSOR_RIGHT,
					ModifierFlag::OPTION_L,
					KeyCode::CURSOR_RIGHT,
					ModifierFlag::OPTION_L,
					KeyCode::CURSOR_LEFT,
					ModifierFlag::OPTION_L,
					@end

					Option::KEYTOKEY_INCREASE_MODIFIER_FLAGS,
					ModifierFlag::EXTRA1,
				</autogen>
				<autogen>
					__KeyToKey__
					KeyCode::0,
					KeyCode::CURSOR_LEFT,
					ModifierFlag::COMMAND_L,

					Option::KEYTOKEY_INCREASE_MODIFIER_FLAGS,
					ModifierFlag::EXTRA1,
				</autogen>
				<autogen>
					__KeyToKey__
					KeyCode::4,
					KeyCode::CURSOR_RIGHT,
					ModifierFlag::COMMAND_L,

					Option::KEYTOKEY_INCREASE_MODIFIER_FLAGS,
					ModifierFlag::EXTRA1,
				</autogen>
				<autogen>
					__KeyToKey__
					KeyCode::6,

					@begin
					KeyCode::CURSOR_LEFT,
					ModifierFlag::COMMAND_L,
					KeyCode::CURSOR_RIGHT,
					ModifierFlag::OPTION_L,
					KeyCode::CURSOR_LEFT,
					ModifierFlag::OPTION_L,
					@end

					Option::KEYTOKEY_INCREASE_MODIFIER_FLAGS,
					ModifierFlag::EXTRA1,
				</autogen>
				<autogen>
					__KeyToKey__
					KeyCode::X,
					ModifierFlag::SHIFT_L,

					KeyCode::DELETE,

					Option::KEYTOKEY_INCREASE_MODIFIER_FLAGS,
					ModifierFlag::EXTRA1,
				</autogen>
				<autogen>
					__KeyToKey__
					KeyCode::X,

					KeyCode::DELETE,
					ModifierFlag::FN,

					Option::KEYTOKEY_INCREASE_MODIFIER_FLAGS,
					ModifierFlag::EXTRA1,
				</autogen>
				<autogen>
					__KeyToKey__
					KeyCode::G,
					ModifierFlag::SHIFT_L,

					KeyCode::CURSOR_DOWN,
					ModifierFlag::COMMAND_L,

					Option::KEYTOKEY_INCREASE_MODIFIER_FLAGS,
					ModifierFlag::EXTRA1,
				</autogen>
				<autogen>
					__KeyToKey__
					KeyCode::G,

					KeyCode::CURSOR_UP,
					ModifierFlag::COMMAND_L,

					Option::KEYTOKEY_INCREASE_MODIFIER_FLAGS,
					ModifierFlag::EXTRA1,
				</autogen>
			</block>
		</item>
		<!-- Hyper Key 섹션 -->
		<item>
			<appendix>Seil 을 사용해서 CAPSLOCK 을 F18 로, ContextMenu 를 F19 로 매핑한 다음
				설정하도록 한다.
			</appendix>
			<item>
				<identifier>johngrib.move_mouse_cursor_to_screen_0</identifier>
				<appendix>Hyper + 0 : 0 번 모니터의 한가운데로 마우스 포인터 이동</appendix>
				<autogen>
					__KeyOverlaidModifier__
					KeyCode::0,
					ModifierFlag::COMMAND_L |
					ModifierFlag::OPTION_L | ModifierFlag::SHIFT_L |
					ModifierFlag::CONTROL_L,

					@begin
					KeyCode::VK_OPEN_URL_SHELL_warp_mouse_cursor_position_screen_center_0,
					@end
				</autogen>
			</item>
			<item>
				<identifier>johngrib.move_mouse_cursor_to_screen_1</identifier>
				<appendix>Hyper + 1 : 1 번 모니터의 한가운데로 마우스 포인터 이동</appendix>
				<autogen>
					__KeyOverlaidModifier__
					KeyCode::1,
					ModifierFlag::COMMAND_L |
					ModifierFlag::OPTION_L | ModifierFlag::SHIFT_L |
					ModifierFlag::CONTROL_L,

					@begin
					KeyCode::VK_OPEN_URL_SHELL_warp_mouse_cursor_position_screen_center_1,
					@end
				</autogen>
			</item>
			<item>
				<identifier>johngrib.shift_f18_to_capslock</identifier>
				<appendix>Shift + F18 키를 Capslock 으로 설정한다.</appendix>
				<autogen>
					--KeyToKey--
					KeyCode::F18,
					ModifierFlag::SHIFT_L,
					KeyCode::CAPSLOCK,
				</autogen>
			</item>
			<item>
				<identifier>johngrib.f18_to_hyper</identifier>
				<appendix>F18 키를 Hyper 로 설정한다.</appendix>
				<autogen>
					--KeyOverlaidModifier--
					KeyCode::F18,
					KeyCode::COMMAND_L,
					ModifierFlag::OPTION_L | ModifierFlag::SHIFT_L |
					ModifierFlag::CONTROL_L,
					KeyCode::F18
				</autogen>
			</item>
			<item>
				<identifier>johngrib.f19_to_hyper</identifier>
				<appendix>F19 키를 Hyper 로 설정한다.</appendix>
				<autogen>
					--KeyOverlaidModifier--
					KeyCode::F19,
					KeyCode::COMMAND_L,
					ModifierFlag::OPTION_L | ModifierFlag::SHIFT_L |
					ModifierFlag::CONTROL_L,
					KeyCode::F19
				</autogen>
			</item>
		</item>
		<item>
			<appendix>VI 보조 설정</appendix>
			<item>
				<appendix>ESC 키를 누를때마다 영문 입력 모드로 전환하기(for VI)</appendix>
				<identifier>johngrib.esc_to_abc_esc</identifier>
				<autogen>
					__KeyToKey__
					KeyCode::ESCAPE,

					KeyCode::VK_CHANGE_INPUTSOURCE_TO_ENGLISH,
					KeyCode::ESCAPE,
				</autogen>
			</item>
			<item>
				<identifier>johngrib.f18_to_abc_esc</identifier>
				<appendix>F18 키를 ESC, 영문 입력 모드로 설정한다.</appendix>
				<autogen>
					__KeyToKey__
					KeyCode::F18,

					KeyCode::VK_CHANGE_INPUTSOURCE_TO_ENGLISH,
					KeyCode::ESCAPE,
				</autogen>
			</item>
		</item>

		<!-- 한영/한자 관련 설정 -->
		<item>
			<appendix>한영전환/한자 관련 설정</appendix>
			<appendix>(Command + Control + Option + Space 가 한영 전환으로 설정되어 있어야 한다)
			</appendix>
			<!-- Shift + Space 를 한영 전환으로 설정한다. -->
			<item>
				<identifier>johngrib.shift_space_to_haneng</identifier>
				<appendix>Shift + Space 를 한영 전환으로 설정한다.</appendix>
				<not>VIRTUALMACHINE, REMOTEDESKTOPCONNECTION</not>
				<autogen>
					__KeyToKey__
					KeyCode::SPACE,
					MODIFIERFLAG_EITHER_LEFT_OR_RIGHT_SHIFT,

					KeyCode::SPACE,
					ModifierFlag::COMMAND_L | ModifierFlag::OPTION_L |
					ModifierFlag::CONTROL_L,
					Option::NOREPEAT
				</autogen>
			</item>
			<!-- Option_R 을 한/영 전환으로 설정한다. -->
			<item>
				<name>Option_R 을 한/영 전환으로 설정한다.</name>
				<device_not>
					DeviceVendor::APPLE_COMPUTER, DeviceProduct::ANY,
					DeviceVendor::Apple_Bluetooth, DeviceProduct::ANY,
				</device_not>
				<identifier>johngrib.option_r_to_haneng</identifier>
				<block>
					<not>VIRTUALMACHINE, REMOTEDESKTOPCONNECTION</not>
					<autogen>
						__KeyToKey__
						KeyCode::OPTION_R,

						KeyCode::SPACE,
						ModifierFlag::COMMAND_L | ModifierFlag::OPTION_L |
						ModifierFlag::CONTROL_L,
						Option::NOREPEAT
					</autogen>
				</block>
				<block>
					<only>VIRTUALMACHINE, REMOTEDESKTOPCONNECTION</only>
					<autogen>__KeyToKey__ KeyCode::OPTION_R, {{ HANENG_AT_WIN }}
					</autogen>
				</block>
			</item>
			<!-- Command_R 을 한자 키로 설정한다. -->
			<item>
				<name>Command_R 을 한자 키로 설정한다.</name>
				<device_not>
					DeviceVendor::APPLE_COMPUTER, DeviceProduct::ANY,
					DeviceVendor::Apple_Bluetooth, DeviceProduct::ANY,
				</device_not>
				<identifier>johngrib.command_r_to_hanja
				</identifier>
				<block>
					<not>VIRTUALMACHINE, REMOTEDESKTOPCONNECTION</not>
					<autogen>
						__KeyToKey__
						KeyCode::COMMAND_R,
						{{ HANJA_AT_MAC }}
					</autogen>
				</block>
				<block>
					<only>VIRTUALMACHINE, REMOTEDESKTOPCONNECTION</only>
					<autogen>__KeyToKey__ KeyCode::COMMAND_R, {{ HANJA_AT_WIN }}
					</autogen>
				</block>
			</item>
			<!-- Control_R 을 한자 키로 설정한다. -->
			<item>
				<name>Control_R 을 한자 키로 설정한다.</name>
				<device_not>
					DeviceVendor::APPLE_COMPUTER, DeviceProduct::ANY,
					DeviceVendor::Apple_Bluetooth, DeviceProduct::ANY,
				</device_not>
				<identifier>johngrib.control_r_to_hanja</identifier>
				<block>
					<not>VIRTUALMACHINE, REMOTEDESKTOPCONNECTION</not>
					<autogen>
						__KeyToKey__
						KeyCode::CONTROL_R,
						{{ HANJA_AT_MAC }}
					</autogen>
				</block>
				<block>
					<only>VIRTUALMACHINE, REMOTEDESKTOPCONNECTION</only>
					<autogen>__KeyToKey__ KeyCode::CONTROL_R, {{ HANJA_AT_WIN }}
					</autogen>
				</block>
			</item>
		</item>
	</item>

</root>
